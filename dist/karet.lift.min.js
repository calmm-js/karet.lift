!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("infestines"),require("kefir"),require("partial.lenses")):"function"==typeof define&&define.amd?define(["exports","infestines","kefir","partial.lenses"],t):t((n.karet=n.karet||{},n.karet.lift={}),n.I,n.Kefir,n.L)}(this,function(n,f,r,o){"use strict";function i(n){var t=c(n);return t&&"value"===t.type}function u(n){var t=n._x;if(1&n._n){if(!o.all(i,p,t))return;n._n^=1}var e=n._f.apply(null,o.modify(p,l,t)),r=c(n);r&&f.identicalU(e,r.value)||n._emitValue(e)}function t(i,n){function u(){for(var n=arguments.length,t=Array(n),e=0;e<n;++e)t[e]=arguments[e];var r=y(t,this);return i&&this.length<=n?r:o(r)}function o(i){if(!f.isFunction(i))return a(i)?new _([i],o):i;switch(i.length){case 0:return e(function(){return u.apply(i,arguments)});case 1:return e(function(n){return u.apply(i,arguments)});case 2:return e(function(n,t){return u.apply(i,arguments)});case 3:return e(function(n,t,e){return u.apply(i,arguments)});case 4:return e(function(n,t,e,r){return u.apply(i,arguments)});default:return function(n){throw Error("Arity of "+i+" unsupported")}()}}return function(n){var t=o(n);return t!==n&&(t.fn=n),t}}var e=function(n){return n},a=function(n){return n instanceof r.Property},c=function(n){return n._currentEvent},l=function(n){return c(n).value},s=Symbol.for("react.element"),p=function(u){return function(n,t,r,i){return function n(t,e){return u(t)?i(t,e):f.isArray(t)?o.elemsTotal(t,e,r,n):f.isObject(t)&&t.$$typeof!==s?o.values(t,e,r,n):r.of(t)}(n,t)}}(a),_=f.inherit(function(n,t){var e=this;r.Property.call(e),e._f=t,e._x=n,e._h=null,e._n=1},r.Property,{_onActivation:function(){function t(n){var t=n.type;"value"===t?e._h&&u(e):"error"===t?(e._n|=1,e._emitError(n.value)):(e._n-=2)<2&&e._h&&(e._h=null,e._emitEnd())}var e=this;o.forEach(function(n){e._n+=2,n.onAny(t)},p,e._x),u(e),1<e._n?e._h=t:e._emitEnd()},_onDeactivation:function(){var t=this._h;this._h=null,this._n=1,o.forEach(function(n){return n.offAny(t)},p,this._x)}}),y=(0,f.id)(function(n,t){return o.get(p,n)?new _(n,t):t.apply(null,n)}),h=f.curry(y),v=t(!0),d=t(!1);n.combine=h,n.lift=v,n.liftRec=d,Object.defineProperty(n,"__esModule",{value:!0})});
