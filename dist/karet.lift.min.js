!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("infestines"),require("kefir"),require("partial.lenses")):"function"==typeof define&&define.amd?define(["exports","infestines","kefir","partial.lenses"],e):e((n.karet=n.karet||{},n.karet.lift={}),n.I,n.Kefir,n.L)}(this,function(n,f,r,u){"use strict";function i(n){var e=l(n);return e&&"value"===e.type}function o(n,e,r,i){return function n(e,t){return c(e,t)?i(e,t):f.isArray(e)?u.elemsTotal(e,t,r,n):f.isObject(e)&&e.$$typeof!==p?u.values(e,t,r,n):r.of(e)}(n,e)}function a(n){var e=n._x;if(1&n._n){if(!u.all(i,o,e))return;n._n^=1}var t=n._f.apply(null,u.modify(o,s,e)),r=l(n);r&&f.identicalU(t,r.value)||n._emitValue(t)}function e(i,n){function u(){for(var n=arguments.length,e=Array(n),t=0;t<n;++t)e[t]=arguments[t];var r=y(e,this);return i&&this.length<=n?r:o(r)}function o(i){if(!f.isFunction(i))return c(i)?new _([i],o):i;switch(i.length){case 0:return t(function(){return u.apply(i,arguments)});case 1:return t(function(n){return u.apply(i,arguments)});case 2:return t(function(n,e){return u.apply(i,arguments)});case 3:return t(function(n,e,t){return u.apply(i,arguments)});case 4:return t(function(n,e,t,r){return u.apply(i,arguments)});default:return function(n){throw Error("Arity of "+i+" unsupported")}()}}return function(n){var e=o(n);return e!==n&&(e.fn=n),e}}var t=function(n){return n},c=function(n){return n instanceof r.Property},l=function(n){return n._currentEvent},s=function(n){return l(n).value},p=Symbol.for("react.element"),_=f.inherit(function(n,e){var t=this;r.Property.call(t),t._f=e,t._x=n,t._h=null,t._n=1},r.Property,{_onActivation:function(){function e(n){var e=n.type;"value"===e?t._h&&a(t):"error"===e?(t._n|=1,t._emitError(n.value)):(t._n-=2)<2&&t._h&&(t._h=null,t._emitEnd())}var t=this;u.forEach(function(n){t._n+=2,n.onAny(e)},o,t._x),a(t),1<t._n?t._h=e:t._emitEnd()},_onDeactivation:function(){var e=this._h;this._h=null,this._n=1,u.forEach(function(n){return n.offAny(e)},o,this._x)}}),y=function(n,e){return u.select(o,n)?new _(n,e):e.apply(null,n)},h=f.curry(y),v=e(!0),d=e(!1);n.combine=h,n.lift=v,n.liftRec=d,Object.defineProperty(n,"__esModule",{value:!0})});
