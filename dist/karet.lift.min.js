!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("infestines"),require("kefir"),require("partial.lenses")):"function"==typeof define&&define.amd?define(["exports","infestines","kefir","partial.lenses"],t):t((n.karet=n.karet||{},n.karet.lift={}),n.I,n.Kefir,n.L)}(this,function(n,t,e,r){"use strict";function i(n){var t=c(n);return t&&"value"===t.type}function u(n,e,i,u){return function n(e,o){return a(e)?u(e,o):t.isArray(e)?r.elemsTotal(e,o,i,n):t.isObject(e)&&e.$$typeof!==s?r.values(e,o,i,n):i.of(e)}(n,e)}function o(n){var e=n._x;if(1&n._n){if(!r.all(i,u,e))return;n._n^=1}var o=n._f.apply(null,r.modify(u,l,e)),f=c(n);f&&t.identicalU(o,f.value)||n._emitValue(o)}function f(n){function e(){for(var t=arguments.length,e=Array(t),i=0;i<t;++i)e[i]=arguments[i];var u=_(e,this);return n&&this.length<=t?u:r(u)}function r(n){if(!t.isFunction(n))return a(n)?new p([n],r):n;switch(n.length){case 0:return function(){return e.apply(n,arguments)};case 1:return function(t){return e.apply(n,arguments)};case 2:return function(t,r){return e.apply(n,arguments)};case 3:return function(t,r,i){return e.apply(n,arguments)};case 4:return function(t,r,i,u){return e.apply(n,arguments)};default:return function(n){throw Error("Arity of "+n+" unsupported")}(n)}}return function(n){var t=r(n);return t!==n&&(t.fn=n),t}}var a=function(n){return n instanceof e.Property},c=function(n){return n._currentEvent},l=function(n){return c(n).value},s=Symbol.for("react.element"),p=t.inherit(function(n,t){e.Property.call(this),this._f=t,this._x=n,this._h=null,this._n=1},e.Property,{_onActivation:function(){function n(n){var e=n.type;"value"===e?t._h&&o(t):"error"===e?(t._n|=1,t._emitError(n.value)):(t._n-=2)<2&&t._h&&(t._h=null,t._emitEnd())}var t=this;r.forEach(function(e){t._n+=2,e.onAny(n)},u,t._x),o(t),1<t._n?t._h=n:t._emitEnd()},_onDeactivation:function(){var n=this._h;this._h=null,this._n=1,r.forEach(function(t){return t.offAny(n)},u,this._x)}}),_=function(n,t){return r.select(u,n)?new p(n,t):t.apply(null,n)},h=t.curry(_),y=f(!0),v=f(!1);n.combine=h,n.lift=y,n.liftRec=v,Object.defineProperty(n,"__esModule",{value:!0})});
